<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Store</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(to bottom,#050b1e,#0a1030);
color:white;
}

h2{
padding:20px 15px 5px;
color:#00d0ff;
}

.container{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:15px;
padding:15px;
padding-bottom:140px;
}

.card{
background:#0b1330;
border-radius:25px;
padding:18px;
text-align:center;
}

.price{
font-weight:bold;
margin:10px 0;
}

.qty-box{
display:flex;
justify-content:center;
align-items:center;
background:#071026;
border-radius:30px;
padding:6px;
}

.qty-box button{
width:35px;
height:35px;
border:none;
border-radius:50%;
background:#00bcd4;
color:white;
font-size:18px;
}

.qty{
width:40px;
text-align:center;
}

.bottom-bar{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
width:90%;
background:rgba(30,30,30,0.7);
border-radius:40px;
padding:15px 20px;
display:flex;
justify-content:space-between;
align-items:center;
}

.total{
font-size:20px;
font-weight:bold;
}

.checkout{
background:#1f1f1f;
padding:12px 30px;
border-radius:30px;
}
</style>
</head>

<body>

<h2>MEMBERSHIP</h2>
<div class="container">

<div class="card">
<h4>WEEKLY LITE MEMBERSHIP</h4>
<div class="price" data-price="130">130 LKR</div>
<div class="qty-box">
<button onclick="changeQty(this,-1)">-</button>
<div class="qty">0</div>
<button onclick="changeQty(this,1)">+</button>
</div>
</div>

<div class="card">
<h4>WEEKLY MEMBERSHIP</h4>
<div class="price" data-price="520">520 LKR</div>
<div class="qty-box">
<button onclick="changeQty(this,-1)">-</button>
<div class="qty">0</div>
<button onclick="changeQty(this,1)">+</button>
</div>
</div>

</div>

<div class="bottom-bar">
<div class="total" id="total">0 LKR</div>
<div class="checkout" onclick="goCheckout()">CHECKOUT</div>
</div>

<script>
function changeQty(btn,amount){
let card = btn.closest(".card");
let qtyDiv = card.querySelector(".qty");
let qty = parseInt(qtyDiv.innerText);
qty += amount;
if(qty<0) qty=0;
qtyDiv.innerText = qty;
calculateTotal();
}

function calculateTotal(){
let cards=document.querySelectorAll(".card");
let total=0;
cards.forEach(card=>{
let qty=parseInt(card.querySelector(".qty").innerText);
let price=parseInt(card.querySelector(".price").dataset.price);
total+=qty*price;
});
document.getElementById("total").innerText=total+" LKR";
}

function goCheckout(){

let items=[];
let total=0;

document.querySelectorAll(".card").forEach(card=>{
let qty=parseInt(card.querySelector(".qty").innerText);
if(qty>0){
let name=card.querySelector("h4").innerText;
let price=parseInt(card.querySelector(".price").dataset.price);
items.push(`${name} x ${qty} - ${price*qty} LKR`);
total+=price*qty;
}
});

localStorage.setItem("orderItems",JSON.stringify(items));
localStorage.setItem("orderTotal",total);

window.location.href="checkout.html";
}
</script>

</body>
</html>
